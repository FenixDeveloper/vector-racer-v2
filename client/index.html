<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>–í–µ–∫—Ç–æ—Ä –ì–æ–Ω–∫–∏</title>
    <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
    <!-- Game Canvas -->
    <canvas id="gameCanvas"></canvas>

    <!-- UI Overlay -->
    <div id="ui-layer">
        <!-- Top HUD -->
        <div class="hud-top">
            <div class="hud-panel hud-left">
                <h1 class="game-title">–í–µ–∫—Ç–æ—Ä –ì–æ–Ω–∫–∏</h1>
                <div class="status-bar">
                    <span id="status-txt">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    <div id="turn-indicator" class="turn-warning hidden">
                        <span id="turn-label">–†–ï–ó–ö–ò–ô –ü–û–í–û–†–û–¢</span>
                        <span id="turn-direction"></span>
                    </div>
                </div>
                <div class="control-mode" id="control-mode-hint">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: <span id="control-mode-display">–ö–õ–ê–í–ò–ê–¢–£–†–ê</span> (–ü—Ä–æ–±–µ–ª –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è)
                </div>
            </div>

            <div class="hud-panel hud-right">
                <div class="rating-label" id="rating-label">–¢–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                <div class="rating-value" id="rating-display">0</div>
                <div class="speed-value" id="speed-display">0 –∫–º/—á</div>
            </div>
        </div>

        <!-- Wasted Screen -->
        <div id="wasted-screen" class="overlay-screen hidden">
            <h1 class="wasted-title" id="wasted-title">–ö—Ä—É—à–µ–Ω–∏–µ</h1>
            <div class="wasted-subtitle" id="wasted-subtitle">–†–ï–ô–¢–ò–ù–ì –°–ë–†–û–®–ï–ù –ù–ê –ù–û–õ–¨</div>
            <p class="respawn-text" id="respawn-text">–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ...</p>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="overlay-screen">
            <div class="start-panel">
                <h2 class="start-title" id="start-title">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –≥–æ–Ω–∫–µ</h2>
                <div class="welcome-name" id="welcome-name">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ–Ω—â–∏–∫–∞...</div>

                <div class="instructions">
                    <p class="instruction-title" id="objective-text">–¶–µ–ª—å: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥</p>
                    <p id="speed-multiplier-text">–ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏: –†–µ–π—Ç–∏–Ω–≥ —Ä–∞—Å—Ç—ë—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é.</p>
                    <p id="high-stakes-text">–í—ã—Å–æ–∫–∏–µ —Å—Ç–∞–≤–∫–∏: –ü—Ä–∏ –∞–≤–∞—Ä–∏–∏ <span class="danger">–†–ï–ô–¢–ò–ù–ì –ü–ê–î–ê–ï–¢ –î–û –ù–£–õ–Ø</span>.</p>
                </div>

                <div class="controls-legend desktop-controls" id="desktop-controls">
                    <div class="legend-title" id="controls-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                    <div class="legend-grid">
                        <span>–°—Ç—Ä–µ–ª–∫–∏ / WASD</span> <span>–î–≤–∏–∂–µ–Ω–∏–µ</span>
                        <span>–ú—ã—à—å</span> <span>–†—É–ª–µ–Ω–∏–µ –∏ –≥–∞–∑</span>
                        <span>–ü—Ä–æ–±–µ–ª</span> <span>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞</span>
                    </div>
                </div>

                <div class="controls-legend mobile-controls hidden" id="mobile-controls">
                    <div class="legend-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                    <div class="legend-grid">
                        <span>–î–∂–æ–π—Å—Ç–∏–∫</span> <span>–î–≤–∏–∂–µ–Ω–∏–µ</span>
                        <span>–ù–∞–∫–ª–æ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞</span> <span>–†—É–ª–µ–Ω–∏–µ</span>
                        <span>–ù–∞–∂–º–∏—Ç–µ</span> <span>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞</span>
                    </div>
                </div>

                <div class="color-selector" id="color-selector"></div>

                <button id="join-btn" class="join-button">–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—å</button>
                <p id="error-msg" class="error-message hidden"></p>
            </div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard-panel">
            <div class="leaderboard-header">
                <h3 id="leaderboard-title">–†–µ–π—Ç–∏–Ω–≥ –æ–Ω–ª–∞–π–Ω</h3>
                <span id="leaderboard-subtitle">–¢–æ–ø 10</span>
            </div>
            <ul id="leaderboard">
                <li class="placeholder">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</li>
            </ul>
        </div>

        <!-- Mobile Controls -->
        <div id="mobile-joystick" class="mobile-joystick hidden">
            <div class="joystick-base">
                <div class="joystick-knob"></div>
            </div>
        </div>

        <button id="mobile-mode-toggle" class="mobile-mode-toggle hidden">
            <span id="mobile-mode-icon">üéÆ</span>
        </button>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
